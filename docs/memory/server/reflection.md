# Server / Reflection

## Route
- `app/api/trips/[id]/reflection/route.ts` â€” Submit/read reflection

## Patterns
- Validation with HTML strip (prevent XSS in free-form text)
- Read-merge-write pattern + atomic signal logging
- Highlight rating: loved/skipped/missed per slot
- Signal disambiguation: planned-but-skipped vs went-and-disliked

## Learnings
- (space for future compound learnings)
